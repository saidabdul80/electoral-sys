import{l as k,o as r,c as u,a as f,b as t,u as l,j as G,k as y,t as o,h as _,v as x,F as c,m as v,p as P,q as p,n as q,s as g,w as M,C as W,D as F,G as V}from"./app.a2fa7500.js";import{_ as j,a as z}from"./Sidenav.6d27bc9b.js";import{_ as T}from"./Paginate.8b4809a4.js";import{_ as O}from"./InputLabel.c4b4ab40.js";import{_ as R}from"./PrimaryButton.b606e62a.js";import{S as w}from"./sweetalert2.dd67d6cf.js";import{_ as H}from"./_plugin-vue_export-helper.cdc0426e.js";const a=m=>(W("data-v-4b408412"),m=m(),F(),m),J={class:"height-100 bg-light",id:"body-pd"},K={key:0,style:{position:"fixed",display:"flex","justify-content":"center",padding:"5px",width:"100%",background:"#2223",color:"white","align-items":"center"}},Q=a(()=>t("div",{class:"spinner-border text-white",role:"status"},null,-1)),X=a(()=>t("div",{class:"p-3 d-flex align-items-center"},[t("i",{class:"bi bi-stack"}),t("h4",{class:"ml-3 my-0"},"Volunteers")],-1)),Y={class:"row w-100"},Z={class:"col-md-7"},tt={class:"row w-100"},et=["disabled"],st=["disabled"],lt={class:"col-sm-12 col-md-4"},dt=["disabled"],ot={class:"col-md-5 mt-1"},nt=["disabled"],at=["disabled"],it={key:1},rt={class:"px-3"},ut={class:"table table-bordered"},_t=a(()=>t("thead",null,[t("tr",null,[t("td",null,"S/N"),t("td",null,"Volunteer ID"),t("td",null,"Name"),t("td",null,"Email"),t("td",null,"Phone"),t("td",null,"Address"),t("td",null,"State"),t("td",null,"LGA"),t("td",null,"Ward"),t("td",null,"Area"),t("td",null,"Date of Birth"),t("td",null,"Gender"),t("td",null,"Pix"),t("td")])],-1)),mt=["src"],ct=["onClick"],pt=a(()=>t("button",{class:"btn btn-sm ml-2 bg-danger text-white"},"Delete",-1)),bt={key:2},ht={class:"px-3"},vt={class:"table table-bordered"},gt=a(()=>t("thead",null,[t("tr",null,[t("td",null,"S/N"),t("td",null,"Volunteer ID"),t("td",null,"Department"),t("td",null,"Status"),t("td",null,"Name"),t("td",null,"Email"),t("td",null,"Phone"),t("td",null,"Address"),t("td",null,"State"),t("td",null,"LGA"),t("td",null,"Ward"),t("td",null,"Area"),t("td",null,"Date of Birth"),t("td",null,"Gender"),t("td",null,"Pix"),t("td")])],-1)),yt=["src"],ft=["onClick"],wt=a(()=>t("button",{class:"btn btn-sm ml-2 bg-danger text-white"},"Delete",-1)),xt={class:"px-3"},kt=a(()=>t("a",{class:"ml-3 mb-3 btn btn-sm bg-primary text-white w-1x",href:"template/volunteers_upload_template.csv",target:"_blank"},"Download Template",-1)),Vt={class:"col-md-4 mb-4"},Ut=a(()=>t("label",null,"Select User type",-1)),St=a(()=>t("option",{value:"Volunteer"},"Volunteer",-1)),Ct=a(()=>t("option",{value:"Party Member"},"Party Member",-1)),At=[St,Ct],$t={key:0,class:"col-md-4 mb-2"},Dt=a(()=>t("label",null,"Select Status",-1)),Pt=["value"],qt={key:1,class:"col-md-4 mb-4"},Tt=a(()=>t("label",null,"Select Department",-1)),Nt=["value"],It={class:"mt-4"},Bt={class:"mt-4"},Lt={class:"px-3"},Et=["onSubmit"],Gt={class:"row w-100"},Mt={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Wt={style:{padding:"20px 10px"},class:"bg-white overflow-hidden shadow-sm sm:rounded-lg row"},Ft={class:"col-md-4 mb-2"},jt=a(()=>t("label",null,"Name",-1)),zt={class:"col-md-4 mb-2"},Ot=a(()=>t("label",null,"Volunteer ID",-1)),Rt={class:"col-md-4 mb-2"},Ht=a(()=>t("label",null,"Email",-1)),Jt={class:"col-md-4 mb-2"},Kt=a(()=>t("label",null,"Phone",-1)),Qt={class:"col-md-4 mb-2"},Xt=a(()=>t("label",null,"Address",-1)),Yt={class:"col-md-4 mb-2"},Zt=a(()=>t("label",null,"State",-1)),te=a(()=>t("option",{value:"0"},"-",-1)),ee=["value"],se={class:"col-md-4 mb-2"},le=a(()=>t("label",null,"Lga",-1)),de=["value"],oe={class:"col-md-4 mb-2"},ne=a(()=>t("label",null,"Ward",-1)),ae=["value"],ie={class:"col-md-4 mb-2"},re=a(()=>t("label",null,"Area Name",-1)),ue=["value"],_e={class:"col-md-4 mb-2"},me=a(()=>t("label",null,"User type",-1)),ce=a(()=>t("option",{value:"Volunteer"},"Volunteer",-1)),pe=a(()=>t("option",{value:"Party Member"},"Party Member",-1)),be=[ce,pe],he={key:0,class:"col-md-4 mb-2"},ve=a(()=>t("label",null,"Department",-1)),ge=["value"],ye={key:1,class:"col-md-4 mb-2"},fe=a(()=>t("label",null,"Status",-1)),we=["value"],xe={class:"col-md-4 mb-2"},ke=a(()=>t("label",null,"Gender",-1)),Ve=a(()=>t("option",{value:"male"},"male",-1)),Ue=a(()=>t("option",{value:"female"},"female",-1)),Se=[Ve,Ue],Ce={class:"col-md-4 mb-2"},Ae=a(()=>t("label",null,"Date of Birth",-1)),$e={class:"col-md-4 mb-2"},De=a(()=>t("label",null,"Password",-1)),Pe={class:"col-md-4 mb-2"},qe=a(()=>t("label",{style:{visibility:"hidden"}},"Area Description",-1)),Te={key:0},Ne={key:1},Ie={__name:"Volunteers",props:{canLogin:Boolean,canRegister:Boolean,laravelVersion:String,phpVersion:String,volunteers:Array,states:Array,departments:Array,statuses:Array,partyMembers:Array},setup(m){const i=k({switch:"list",wards:[],lgas:[],states:[],areas:[],page:"volunteers",indexNum:0,loading:!1}),b=k({file_to_upload:"",department_id:"",status_id:"",user_type:""}),s=k({name:"",email:"",phone:"",address:"",state_id:"",lga_id:"",ward_id:"",area_id:"",id:"",gender:"",dob:"",password:"",volunteer_id:"",status_id:"",user_type:"Volunteer",department_id:""});async function N(){i.loading=!0;let n=await axios.post("upload_volunteer_data",b,{headers:{"Content-Type":"multipart/form-data"}});i.loading=!1,n.data.ok==!0?(w.fire(n.data.msg,"success"),V.Inertia.reload()):w.fire({icon:"error",html:n.data.msg,footer:"Correct the issues from your file and Upload Again"})}async function U(){let n=await axios.get(`/lgas/${s.state_id}`);i.lgas=n.data}async function S(){let n=await axios.get(`/wards/${s.lga_id}`);i.wards=n.data}async function I(){let n=await axios.get(`/areas/${s.ward_id}`);i.areas=n.data}function C(n,d){i.indexNum=d,s.id=n.id,s.state_id=n.state_id,U(),setTimeout(()=>{s.lga_id=n.lga_id,setTimeout(()=>{S(),s.ward_id=n.ward_id},100)},100),s.name=n.name,s.email=n.email,s.phone=n.phone,s.address=n.address,s.area_id=n.area_id,s.gender=n.gender,s.dob=n.dob,s.volunteer_id=n.volunteer_id,s.department_id=n.department_id,s.status_id=n.status_id,s.user_type=n.user_type,s.password="",i.switch="add"}function B(){A(),i.switch="add"}function A(){s.name="",s.email="",s.phone="",s.address="",s.state_id="",s.lga_id="",s.ward_id="",s.area_id="",s.id="",s.gender="",s.dob="",s.volunteer_id="",s.department_id="",s.status_id="",s.user_type=""}const L=async()=>{i.addingTeamMember=!0;let n=await axios.post("add_volunteer",s);n.data.ok==!0?s.id==""?(w.fire(n.data.msg,"success"),V.Inertia.reload({only:["teams"]})):($(n.data.msg,"success"),V.Inertia.reload({only:["teams"]})):$("try again","error"),i.addingTeamMember=!1};function $(n,d="success"){w.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:h=>{h.addexpenseListener("mouseenter",w.stopTimer),h.addexpenseListener("mouseleave",w.resumeTimer)}}).fire({icon:d,title:n})}function D(n){A(),i.switch="list",i.page=n}return(n,d)=>(r(),u(c,null,[f(j),f(z,{active:"Volunteer"}),t("div",J,[l(i).loading?(r(),u("div",K,[G(" Please Wait "),Q])):y("",!0),X,t("div",Y,[t("div",Z,[t("div",tt,[t("button",{onClick:d[0]||(d[0]=e=>l(i).switch="uploads"),disabled:l(i).switch=="uploads",class:"w-1x ml-3 mb-3 btn btn-sm bg-dark text-white"},"Upload",8,et),t("button",{onClick:d[1]||(d[1]=e=>B()),disabled:l(i).switch=="add",class:"w-1x ml-3 mb-3 btn btn-sm bg-dark text-white"},"Add ",8,st),t("div",lt,[t("button",{onClick:d[2]||(d[2]=e=>l(i).switch="list"),disabled:l(i).switch=="list",class:"w-1x ml-3 mb-3 btn btn-sm bg-dark text-white mx-auto"},"List of "+o(l(i).page),9,dt)])])]),t("div",ot,[t("div",null,[t("button",{onClick:d[3]||(d[3]=e=>D("volunteers")),disabled:l(i).page=="volunteers",class:"w-1x btn btn-sm bg-success text-white"},"Volunteers",8,nt),t("button",{onClick:d[4]||(d[4]=e=>D("party members")),disabled:l(i).page=="party members",class:"w-1x mt-0 btn btn-sm bg-success text-white"},"Party Members",8,at)])])]),l(i).page=="volunteers"?(r(),u("div",it,[_(t("div",rt,[t("table",ut,[_t,t("tbody",null,[(r(!0),u(c,null,v(m.volunteers.data,(e,h)=>(r(),u("tr",{key:h},[t("td",null,o(m.volunteers.from+h),1),t("td",null,o(e.volunteer_id),1),t("td",null,o(e.name),1),t("td",null,o(e.email),1),t("td",null,o(e.phone),1),t("td",null,o(e.address),1),t("td",null,o(e.state),1),t("td",null,o(e.lga),1),t("td",null,o(e.ward),1),t("td",null,o(e.area),1),t("td",null,o(e.dob),1),t("td",null,o(e.gender),1),t("td",null,[t("img",{src:e.image,alt:"image"},null,8,mt)]),t("td",null,[t("button",{onClick:E=>C(e,h),class:"btn btn-sm bg-primary text-white"},"Edit",8,ct),pt])]))),128))])]),f(T,{next:m.volunteers.next_page_url,prev:m.volunteers.prev_page_url},null,8,["next","prev"])],512),[[x,l(i).switch=="list"]])])):y("",!0),l(i).page=="party members"?(r(),u("div",bt,[_(t("div",ht,[t("table",vt,[gt,t("tbody",null,[(r(!0),u(c,null,v(m.partyMembers.data,(e,h)=>(r(),u("tr",{key:h},[t("td",null,o(m.partyMembers.from+h),1),t("td",null,o(e.partyMember_id),1),t("td",null,o(e.department),1),t("td",null,o(e.status),1),t("td",null,o(e.name),1),t("td",null,o(e.email),1),t("td",null,o(e.phone),1),t("td",null,o(e.address),1),t("td",null,o(e.state),1),t("td",null,o(e.lga),1),t("td",null,o(e.ward),1),t("td",null,o(e.area),1),t("td",null,o(e.dob),1),t("td",null,o(e.gender),1),t("td",null,[t("img",{src:e.image,alt:"image"},null,8,yt)]),t("td",null,[t("button",{onClick:E=>C(e,h),class:"btn btn-sm bg-primary text-white"},"Edit",8,ft),wt])]))),128))])]),f(T,{next:m.partyMembers.next_page_url,prev:m.partyMembers.prev_page_url},null,8,["next","prev"])],512),[[x,l(i).switch=="list"]])])):y("",!0),_(t("div",xt,[kt,t("form",{onSubmit:d[9]||(d[9]=P(e=>N(),["prevent"])),class:"mt-5 ml-5",enctype:"multipart/form-data"},[t("div",Vt,[Ut,_(t("select",{required:"","onUpdate:modelValue":d[5]||(d[5]=e=>l(b).user_type=e),type:"text",class:"form-control"},At,512),[[p,l(b).user_type]])]),l(b).user_type=="Party Member"?(r(),u("div",$t,[Dt,_(t("select",{required:"","onUpdate:modelValue":d[6]||(d[6]=e=>l(b).status_id=e),type:"text",class:"form-control"},[(r(!0),u(c,null,v(m.statuses,e=>(r(),u("option",{key:"dep_"+e.id,value:e.id},o(e.name),9,Pt))),128))],512),[[p,l(b).status_id]])])):y("",!0),l(b).user_type=="Party Member"?(r(),u("div",qt,[Tt,_(t("select",{required:"","onUpdate:modelValue":d[7]||(d[7]=e=>l(b).department_id=e),type:"text",class:"form-control"},[(r(!0),u(c,null,v(m.departments,e=>(r(),u("option",{key:"dep_"+e.id,value:e.id},o(e.name),9,Nt))),128))],512),[[p,l(b).department_id]])])):y("",!0),t("div",It,[f(O,{for:"file_to_upload",value:"CSV File To uplad"}),t("input",{required:"",id:"file_to_upload",onInput:d[8]||(d[8]=e=>l(b).file_to_upload=e.target.files[0]),type:"file",class:"mt-1 block"},null,32)]),t("div",Bt,[t("button",{class:q(["ml-4 btn btn-dark",{"opacity-25":l(s).processing}])}," Upload Data ",2)])],32)],512),[[x,l(i).switch=="uploads"]]),_(t("div",Lt,[t("form",{onSubmit:P(L,["prevent"])},[t("div",Gt,[t("div",Mt,[t("div",Wt,[t("div",Ft,[jt,_(t("input",{required:"","onUpdate:modelValue":d[10]||(d[10]=e=>l(s).name=e),type:"text",class:"form-control"},null,512),[[g,l(s).name]])]),t("div",zt,[Ot,_(t("input",{required:"","onUpdate:modelValue":d[11]||(d[11]=e=>l(s).volunteer_id=e),type:"text",class:"form-control"},null,512),[[g,l(s).volunteer_id]])]),t("div",Rt,[Ht,_(t("input",{required:"","onUpdate:modelValue":d[12]||(d[12]=e=>l(s).email=e),type:"email",class:"form-control"},null,512),[[g,l(s).email]])]),t("div",Jt,[Kt,_(t("input",{required:"","onUpdate:modelValue":d[13]||(d[13]=e=>l(s).phone=e),type:"text",class:"form-control"},null,512),[[g,l(s).phone]])]),t("div",Qt,[Xt,_(t("input",{"onUpdate:modelValue":d[14]||(d[14]=e=>l(s).address=e),type:"text",class:"form-control"},null,512),[[g,l(s).address]])]),t("div",Yt,[Zt,_(t("select",{required:"",onChange:d[15]||(d[15]=e=>U()),"onUpdate:modelValue":d[16]||(d[16]=e=>l(s).state_id=e),type:"text",class:"form-control"},[te,(r(!0),u(c,null,v(m.states,e=>(r(),u("option",{key:e.id,value:e.id},o(e.name),9,ee))),128))],544),[[p,l(s).state_id]])]),t("div",se,[le,_(t("select",{required:"",onChange:d[17]||(d[17]=e=>S()),"onUpdate:modelValue":d[18]||(d[18]=e=>l(s).lga_id=e),type:"text",class:"form-control"},[(r(!0),u(c,null,v(l(i).lgas,e=>(r(),u("option",{key:"lg_"+e.id,value:e.id},o(e.name),9,de))),128))],544),[[p,l(s).lga_id]])]),t("div",oe,[ne,_(t("select",{onChange:d[19]||(d[19]=e=>I()),required:"","onUpdate:modelValue":d[20]||(d[20]=e=>l(s).ward_id=e),type:"text",class:"form-control"},[(r(!0),u(c,null,v(l(i).wards,e=>(r(),u("option",{key:"ward_"+e.id,value:e.id},o(e.name),9,ae))),128))],544),[[p,l(s).ward_id]])]),t("div",ie,[re,_(t("select",{"onUpdate:modelValue":d[21]||(d[21]=e=>l(s).area_id=e),type:"text",class:"form-control"},[(r(!0),u(c,null,v(l(i).areas,e=>(r(),u("option",{key:"a_"+e.id,value:e.id},o(e.name),9,ue))),128))],512),[[p,l(s).area_id]])]),t("div",_e,[me,_(t("select",{required:"","onUpdate:modelValue":d[22]||(d[22]=e=>l(s).user_type=e),type:"text",class:"form-control"},be,512),[[p,l(s).user_type]])]),l(s).user_type=="Party Member"?(r(),u("div",he,[ve,_(t("select",{required:"","onUpdate:modelValue":d[23]||(d[23]=e=>l(s).department_id=e),type:"text",class:"form-control"},[(r(!0),u(c,null,v(m.departments,e=>(r(),u("option",{key:"dep_"+e.id,value:e.id},o(e.name),9,ge))),128))],512),[[p,l(s).department_id]])])):y("",!0),l(s).user_type=="Party Member"?(r(),u("div",ye,[fe,_(t("select",{required:"","onUpdate:modelValue":d[24]||(d[24]=e=>l(s).status_id=e),type:"text",class:"form-control"},[(r(!0),u(c,null,v(m.statuses,e=>(r(),u("option",{key:"dep_"+e.id,value:e.id},o(e.name),9,we))),128))],512),[[p,l(s).status_id]])])):y("",!0),t("div",xe,[ke,_(t("select",{"onUpdate:modelValue":d[25]||(d[25]=e=>l(s).gender=e),type:"text",class:"form-control"},Se,512),[[p,l(s).gender]])]),t("div",Ce,[Ae,_(t("input",{"onUpdate:modelValue":d[26]||(d[26]=e=>l(s).dob=e),type:"date",class:"form-control"},null,512),[[g,l(s).dob]])]),t("div",$e,[De,_(t("input",{"onUpdate:modelValue":d[27]||(d[27]=e=>l(s).password=e),type:"date",class:"form-control"},null,512),[[g,l(s).password]])]),_(t("input",{"onUpdate:modelValue":d[28]||(d[28]=e=>l(s).id=e),type:"text",class:"form-control d-none"},null,512),[[g,l(s).id]]),t("div",Pe,[qe,f(R,{class:q(["ml-4",{"opacity-25":l(s).processing}]),disabled:l(s).processing},{default:M(()=>[l(s).id==""?(r(),u("span",Te,"Add")):(r(),u("span",Ne,"Update"))]),_:1},8,["class","disabled"])])])])])],40,Et)],512),[[x,l(i).switch=="add"]])])],64))}},je=H(Ie,[["__scopeId","data-v-4b408412"]]);export{je as default};
