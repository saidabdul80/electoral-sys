import{l as q,y as F,d as N,E,o as u,c as f,b as e,a as o,w as p,u as a,F as v,m as w,p as T,n as j,L as b,j as y,t as h,h as B,z as D}from"./app.8042de50.js";import{_ as c}from"./InputError.1cd33290.js";import{_ as m}from"./InputLabel.621face0.js";import{_ as P}from"./PrimaryButton.4c94c907.js";import{_}from"./TextInput.7fea7f94.js";import"./datatables.min.80ca64c6.js";/* empty css                                              */const A={class:"w-100"},M={class:"container-fluid"},O={class:"row w-100"},z={class:"col-sm-auto bg-light sticky-top"},J={class:"d-flex flex-sm-column flex-row flex-nowrap bg-light align-items-center sticky-top"},R=e("i",{class:"bi-speedometer2 fs-1"},null,-1),H={class:"nav nav-pills nav-flush flex-sm-column flex-row flex-nowrap mb-auto mx-auto text-center align-items-center"},I={class:"nav-item"},K=e("i",{class:"bi-file-text-fill fs-1"},null,-1),G=e("li",null,[e("a",{href:"#",class:"nav-link py-3 px-2",title:"","data-bs-toggle":"tooltip","data-bs-placement":"right","data-bs-original-title":"Products"},[e("i",{class:"bi-tools fs-1"})])],-1),Q=e("li",null,[e("a",{href:"#",class:"nav-link py-3 px-2",title:"","data-bs-toggle":"tooltip","data-bs-placement":"right","data-bs-original-title":"Customers"},[e("i",{class:"bi-people fs-1"})])],-1),W={class:"dropdown"},X=e("a",{href:"#",class:"d-flex align-items-center justify-content-center p-3 link-dark text-decoration-none dropdown-toggle",id:"dropdownUser3","data-bs-toggle":"dropdown","aria-expanded":"false"},[e("i",{class:"bi-person-circle h2"})],-1),Y={class:"dropdown-menu text-small shadow","aria-labelledby":"dropdownUser3"},Z=e("li",null,[e("a",{class:"dropdown-item",href:"#"},"Profile")],-1),ee={class:"col-sm p-3 min-vh-100 row w-100"},se={class:"col-md-4"},te={style:{"min-height":"80vh"},id:"user_table",class:"shadow table rounded table-hover"},le=e("thead",{style:{visibility:"hidden !important"}},[e("tr",{style:{visibility:"hidden !important"}},[e("td",{style:{visibility:"hidden !important"}}),e("td",{style:{visibility:"hidden !important"}})])],-1),ae=["onClick"],oe={class:"col-md-8"},ie=["onSubmit"],ne={style:{height:"87vh","overflow-y":"scroll !important"}},re={class:"mt-4"},de={class:"mt-4"},ce={class:"mt-4 shadow"},me={class:"mt-4"},ue=["value"],fe=["value"],pe={class:"mt-4"},_e={style:{clear:"left",height:"100px","overflow-y":"scroll"}},he=["onChange","value","checked"],ge={class:"lgaTags"},ve=e("div",{class:"shadow w-100 bg-light",style:{height:"5px"}},null,-1),we={class:"mt-4",style:{clear:"left"}},be=e("option",{value:"user"},"user",-1),ye=e("option",{value:"admin"},"admin",-1),ke={class:"mt-4",style:{clear:"left"}},xe={class:"mt-4"},Ve={class:"flex items-center justify-end mt-4"},Ne={__name:"Users",props:{users:Array,config:Object},setup(g){const x=g,n=q({user:{},state_id:[],lgas:{},selected_states:""}),t=F({first_name:"",surname:"",email:"",password:"",lgas:[],states:[],role:"user",password_confirmation:"",terms:!1});N(()=>{$("#user_table").DataTable({pageLength:5,lengthChange:!1,drawCallback:function(){$(this.api().table().header()).hide()}})});function k(i,l){let d=!0;return l.length>0&&l.every(s=>{if(s.id==i.id)return d=s.checked,!1}),d}function V(i,l){n.lgas.every((d,s)=>d.id==l.id?(i.target.checked?n.lgas[s].checked=!0:n.lgas[s].checked=!1,!1):k)}function C(i){let l=[];n.lgas.length>0&&(l=JSON.parse(JSON.stringify(n.lgas))),n.lgas=[],n.state_id.forEach(d=>{x.config.states.every(s=>s.id==d?(s.lgas.forEach(r=>{n.lgas.push({id:r.id,name:r.name,checked:k(r,l)})}),!1):!0),console.log(d)}),i.target.checked}function U(i){n.lgas=i.lgas_id,t.first_name=i.first_name,t.surname=i.surname,t.email=i.email,t.role=i.role,n.state_id=i.states.split(",")}const L=()=>{t.states=n.state_id,t.lgas=n.lgas,t.post(route("registerx"),{onFinish:()=>t.reset("password","password_confirmation")})};function S(i){let l=i.target.value.toLowerCase();$(".lgaTags").each(function(){$(this).parent().toggle($(this).text().toLowerCase().includes(l))})}return(i,l)=>{const d=E("Select");return u(),f("div",A,[e("div",M,[e("div",O,[e("div",z,[e("div",J,[e("li",null,[o(a(b),{href:i.route("dashboard"),class:"nav-link py-3 px-2",title:"","data-bs-toggle":"tooltip","data-bs-placement":"right","data-bs-original-title":"Dashboard"},{default:p(()=>[R]),_:1},8,["href"])]),e("ul",H,[e("li",I,[o(a(b),{href:i.route("data-upload"),class:"nav-link py-3 px-2",title:"","data-bs-toggle":"tooltip","data-bs-placement":"right","data-bs-original-title":"Home"},{default:p(()=>[K]),_:1},8,["href"])]),G,Q]),e("div",W,[X,e("ul",Y,[Z,e("li",null,[o(a(b),{href:i.route("logout"),method:"post",class:"dropdown-item"},{default:p(()=>[y("Logout")]),_:1},8,["href"])])])])])]),e("div",ee,[e("div",se,[e("table",te,[le,e("tbody",null,[(u(!0),f(v,null,w(g.users.data,s=>(u(),f("tr",{tabindex:"1",key:"op_"+s.id,onClick:r=>U(s)},[e("td",null,h(s.first_name+" "+s.surname),1),e("td",null,"("+h(s.email.split("@")[0])+"@..)",1)],8,ae))),128))])])]),e("div",oe,[e("form",{onSubmit:T(L,["prevent"])},[e("div",ne,[e("div",null,[o(m,{for:"first_name",value:"First Name"}),o(_,{id:"first_name",type:"text",class:"mt-1 block w-full",modelValue:a(t).first_name,"onUpdate:modelValue":l[0]||(l[0]=s=>a(t).first_name=s),required:"",autofocus:"",autocomplete:"first_name"},null,8,["modelValue"]),o(c,{class:"mt-2",message:a(t).errors.first_name},null,8,["message"])]),e("div",re,[o(m,{for:"surname",value:"Surname"}),o(_,{id:"surname",type:"text",class:"mt-1 block w-full",modelValue:a(t).surname,"onUpdate:modelValue":l[1]||(l[1]=s=>a(t).surname=s),required:"",autofocus:"",autocomplete:"surname"},null,8,["modelValue"]),o(c,{class:"mt-2",message:a(t).errors.surname},null,8,["message"])]),e("div",de,[o(m,{for:"email",value:"Email"}),o(_,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:a(t).email,"onUpdate:modelValue":l[2]||(l[2]=s=>a(t).email=s),required:"",autocomplete:"username"},null,8,["modelValue"]),o(c,{class:"mt-2",message:a(t).errors.email},null,8,["message"])]),e("div",ce,[o(m,{class:"badge bg-light fw-bolder fs-6 text-dark w-100",for:"states",value:"Assign States"}),e("div",me,[(u(!0),f(v,null,w(g.config.states,s=>(u(),f("span",{class:"d-flex mr-4",style:{float:"left"},key:s.id,value:s.id},[B(e("input",{onChange:l[3]||(l[3]=r=>C(r)),value:s.id,type:"checkbox","onUpdate:modelValue":l[4]||(l[4]=r=>a(n).state_id=r)},null,40,fe),[[D,a(n).state_id]]),y(" "+h(s.name),1)],8,ue))),128))]),o(c,{class:"mt-2",message:a(t).errors.states,style:{clear:"left"}},null,8,["message"])]),e("div",pe,[o(m,{class:"mt-3 shadow badge bg-light fw-bolder fs-6 text-dark w-100",for:"lgas",value:"Assign Lgas"}),e("input",{type:"text",placeholder:"Search Lga",class:"form-control my-3",onKeyup:l[5]||(l[5]=s=>S(s))},null,32),e("div",_e,[(u(!0),f(v,null,w(a(n).lgas,s=>(u(),f("span",{class:"d-flexx mr-4",style:{float:"left"},key:s.id},[e("input",{onChange:r=>V(r,s),value:s.id,checked:s.checked,type:"checkbox"},null,40,he),e("span",ge,h(s.name),1)]))),128))]),ve,o(c,{class:"mt-2",message:a(t).errors.lgas},null,8,["message"])]),e("div",we,[o(m,{for:"role",value:"Role"}),o(d,{id:"role",type:"text",class:"mt-1 form-control shadow-sm block w-full",modelValue:a(t).role,"onUpdate:modelValue":l[6]||(l[6]=s=>a(t).role=s),required:""},{default:p(()=>[be,ye]),_:1},8,["modelValue"]),o(c,{class:"mt-2",message:a(t).errors.role},null,8,["message"])]),e("div",ke,[o(m,{for:"password",value:"Password"}),o(_,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:a(t).password,"onUpdate:modelValue":l[7]||(l[7]=s=>a(t).password=s),required:"",autocomplete:"new-password"},null,8,["modelValue"]),o(c,{class:"mt-2",message:a(t).errors.password},null,8,["message"])]),e("div",xe,[o(m,{for:"password_confirmation",value:"Confirm Password"}),o(_,{id:"password_confirmation",type:"password",class:"mt-1 block w-full",modelValue:a(t).password_confirmation,"onUpdate:modelValue":l[8]||(l[8]=s=>a(t).password_confirmation=s),required:"",autocomplete:"new-password"},null,8,["modelValue"]),o(c,{class:"mt-2",message:a(t).errors.password_confirmation},null,8,["message"])])]),e("div",Ve,[o(P,{class:j(["ml-4",{"opacity-25":a(t).processing}]),disabled:a(t).processing},{default:p(()=>[y(" Register ")]),_:1},8,["class","disabled"])])],40,ie)])])])])])}}};export{Ne as default};
