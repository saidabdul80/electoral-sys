import{f,o as n,c as o,a as m,b as t,u as a,g as c,v as x,F as _,h as p,i as S,j as b,k as g,w as $,n as V,t as r}from"./app.b88998ce.js";import{_ as C,a as L}from"./Sidenav.099b2a55.js";import{_ as U}from"./Paginate.67eba341.js";import{_ as D}from"./PrimaryButton.f7587287.js";import{S as B}from"./sweetalert2.bb81ef59.js";const M={class:"height-100 bg-light",id:"body-pd"},T=t("div",{class:"p-3 d-flex align-items-center"},[t("i",{class:"bi bi-stack"}),t("h4",{class:"ml-3 my-0"},"Area List")],-1),N=["disabled"],W=["disabled"],E={class:"px-3"},F={class:"table table-bordered"},G=t("thead",null,[t("tr",null,[t("td",null,"S/N"),t("td",null,"State"),t("td",null,"LGA"),t("td",null,"Ward"),t("td",null,"Area name"),t("td",null,"Description"),t("td",{width:"200px"})])],-1),I=["onClick"],j=t("button",{class:"btn btn-sm ml-2 bg-danger text-white"},"Delete",-1),q={class:"px-3"},z=["onSubmit"],R={class:"row w-100"},H={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},J={style:{padding:"20px 10px"},class:"bg-white overflow-hidden shadow-sm sm:rounded-lg row"},K={class:"col-md-4 mb-2"},O=t("label",null,"State",-1),P=t("option",{value:"0"},"-",-1),Q=["value"],X={class:"col-md-4 mb-2"},Y=t("label",null,"LGA",-1),Z=["value"],tt={class:"col-md-4 mb-2"},st=t("label",null,"Ward",-1),et=["value"],at={class:"col-md-4 mb-2"},lt=t("label",null,"Area Name",-1),dt={class:"col-md-4 mb-2"},it=t("label",null,"Area Description",-1),nt={class:"col-md-4 mb-2"},ot=t("label",{style:{visibility:"hidden"}},"Area Description",-1),rt={key:0},ct={key:1},ht={__name:"AreaList",props:{canLogin:Boolean,canRegister:Boolean,laravelVersion:String,phpVersion:String,states:Array,lgas:Array,wards:Array,arealists:Array},setup(u){const i=f({switch:"list",wards:[],lgas:[],states:[],ward_ready:!1,lga_ready:!1,queries:{lga_id:null,ward_id:null,state_id:null}});async function h(){let d=await axios.get(`/lgas/${e.state_id}`);i.lgas=d.data}async function w(){let d=await axios.get(`/wards/${e.lga_id}`);i.wards=d.data}const e=f({state_id:0,lga_id:0,ward_id:0,name:"",description:"",id:""});function y(d){e.id=d.id,e.state_id=d.state_id,h(),setTimeout(()=>{e.lga_id=d.lga_id,setTimeout(()=>{w(),e.ward_id=d.ward_id},100)},100),e.name=d.name,e.description=d.description,i.switch="add"}function k(){e.state_id=0,e.lga_id=0,e.ward_id=0,e.name="",e.description="",e.id="",i.switch="add"}const A=async()=>{i.addingTeamMember=!0;let d=await axios.post("add_area",e);d.data.ok==!0?e.id==""?(B.fire(d.data.msg,"success"),Inertia.reload()):(showAlert(d.data.msg,"success"),Inertia.reload()):showAlert("try again","error"),i.addingTeamMember=!1};return(d,l)=>(n(),o(_,null,[m(C),m(L,{active:"Area"}),t("div",M,[T,t("button",{disabled:a(i).switch=="add",onClick:l[0]||(l[0]=s=>k()),class:"ml-3 mb-3 btn btn-sm bg-dark text-white"},"Add",8,N),t("button",{disabled:a(i).switch=="list",onClick:l[1]||(l[1]=s=>a(i).switch="list"),class:"ml-3 mb-3 btn btn-sm bg-dark text-white"},"List",8,W),c(t("div",E,[t("table",F,[G,t("tbody",null,[(n(!0),o(_,null,p(u.arealists.data,(s,v)=>(n(),o("tr",{key:v},[t("td",null,r(u.arealists.from+v),1),t("td",null,r(s.state),1),t("td",null,r(s.lga),1),t("td",null,r(s.ward),1),t("td",null,r(s.name),1),t("td",null,r(s.description),1),t("td",null,[t("button",{onClick:ut=>y(s),class:"btn btn-sm bg-primary text-white"},"Edit",8,I),j])]))),128))])]),m(U,{next:u.arealists.next_page_url,prev:u.arealists.prev_page_url},null,8,["next","prev"])],512),[[x,a(i).switch=="list"]]),c(t("div",q,[t("form",{onSubmit:S(A,["prevent"])},[t("div",R,[t("div",H,[t("div",J,[t("div",K,[O,c(t("select",{onChange:l[2]||(l[2]=s=>h()),"onUpdate:modelValue":l[3]||(l[3]=s=>a(e).state_id=s),type:"text",class:"form-control"},[P,(n(!0),o(_,null,p(u.states,s=>(n(),o("option",{key:s.id,value:s.id},r(s.name),9,Q))),128))],544),[[b,a(e).state_id]])]),t("div",X,[Y,c(t("select",{onChange:l[4]||(l[4]=s=>w()),"onUpdate:modelValue":l[5]||(l[5]=s=>a(e).lga_id=s),type:"text",class:"form-control"},[(n(!0),o(_,null,p(a(i).lgas,s=>(n(),o("option",{key:"lg_"+s.id,value:s.id},r(s.name),9,Z))),128))],544),[[b,a(e).lga_id]])]),t("div",tt,[st,c(t("select",{"onUpdate:modelValue":l[6]||(l[6]=s=>a(e).ward_id=s),type:"text",class:"form-control"},[(n(!0),o(_,null,p(a(i).wards,s=>(n(),o("option",{key:"ward_"+s.id,value:s.id},r(s.name),9,et))),128))],512),[[b,a(e).ward_id]])]),t("div",at,[lt,c(t("input",{"onUpdate:modelValue":l[7]||(l[7]=s=>a(e).name=s),type:"text",class:"form-control"},null,512),[[g,a(e).name]])]),t("div",dt,[it,c(t("input",{"onUpdate:modelValue":l[8]||(l[8]=s=>a(e).description=s),type:"text",class:"form-control"},null,512),[[g,a(e).description]])]),c(t("input",{"onUpdate:modelValue":l[9]||(l[9]=s=>a(e).id=s),type:"text",class:"form-control d-none"},null,512),[[g,a(e).id]]),t("div",nt,[ot,m(D,{class:V(["ml-4",{"opacity-25":a(e).processing}]),disabled:a(e).processing},{default:$(()=>[a(e).id==""?(n(),o("span",rt,"Add")):(n(),o("span",ct,"Update"))]),_:1},8,["class","disabled"])])])])])],40,z)],512),[[x,a(i).switch=="add"]])])],64))}};export{ht as default};
